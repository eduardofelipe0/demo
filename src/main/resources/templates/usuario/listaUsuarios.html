<!DOCTYPE HTML>
<html xmlns:th="http://thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">

<div class="container-fluid" th:fragment="corpo">
	<br> <br>
	<h1>Usuários</h1>
	<hr>
	<div class="card">
		<div th:class="${#strings.isEmpty(message)} ? '' : 'card bg-success'">
			<div class="card-header">
				<span th:text="${#strings.isEmpty(message)} ? '' : ${message}"> </span>
			</div>
		</div>
		<div class="card-body">
			<table class="table table-striped table-condensed">
				<thead>
					<tr>
						<th scope="col">ID</th>
						<th scope="col">Nome</th>
						<th scope="col">Nome de usuário</th>
						<th scope="col">Permissão</th>
						<th scope="col">Senha</th>
						<th scope="col">Editar</th>
						<th scope="col">Excluir</th>
					</tr>
				</thead>
				<tbody>
					<tr th:each="usuario : ${usuarios}">
						<td><span th:text="${usuario.id}"></span></td>
						<td><span th:text="${usuario.nome}"></span></td>
						<td><span th:text="${usuario.nomeUsuario}"></span></td>
						<td><span th:text="${usuario.role}"></span></td>
						<td><span th:text="${usuario.senha}"></span></td>
						<td><a th:href="@{/usuarios/editar/{id}(id=${usuario.id})}"><button type="submit"
									class="btn btn-default"><img
										src="/bootstrap-5.1.3-dist/icons/icons/pencil-fill.svg"></button></a></td>
						<td>
							<a><button type="button" class="btn btn-default" data-bs-toggle="modal"
									th:attr="data-bs-target='#deletar_'+${usuario.id}"><img
										src="/bootstrap-5.1.3-dist/icons/icons/trash-fill.svg"></button>
								<!-- Modal -->
								<div class="modal fade" th:id="deletar_+${usuario.id}" tabindex="-1"
									aria-labelledby="exampleModalLabel" aria-hidden="true">
									<div class="modal-dialog">
										<div class="modal-content">
											<div class="modal-header">
												<h5 class="modal-title" id="exampleModalLabel">Excluir</h5>
												<button type="button" class="btn-close" data-bs-dismiss="modal"
													aria-label="Close"></button>
											</div>
											<div class="modal-body">
												<p>Deseja realmente excluir esse usuário?</p>
											</div>
											<div class="modal-footer">
												<button type="button" class="btn btn-secondary"
													data-bs-dismiss="modal">Voltar</button>
												<div>
													<a th:href="@{/usuarios/excluir/{id}(id=${usuario.id})}"><button
															type="submit" class="btn btn-danger">Confirmar</button></a>
												</div>
											</div>
										</div>
									</div>
								</div>
							</a>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
		<script type="text/javascript" src="../bootstrap-5.1.3-dist/js/bootstrap.bundle.min.js"></script>
	</div>
</div>

</html>